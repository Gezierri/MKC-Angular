<div class="container mt-3 p-3">
  <h2 class="mb-4">Cadastro de cliente</h2>

  <form [formGroup]="clientForm">

    <div class="col-6 mb-3">
      <label for="client_name" class="form-label">Nome</label>
      <input type="text" class="form-control" formControlName="client_name"/>
      <div *ngIf="clientForm.controls['client_name'].errors && submitted" class="error">
        *Campo deve ser preenchido
      </div>
    </div>

    <div>
      <div class="col-2 mb-3">
        <label for="date_birth" class="form-label">Data de Nascimento</label>
        <p-calendar name="date_birth" formControlName="date_birth" dateFormat="dd/mm/yy"></p-calendar>
        <div *ngIf="clientForm.controls['date_birth'].errors && submitted" class="error">
          *Campo deve ser preenchido
        </div>
      </div>
    </div>

    <div class="row g-3">
      <div class="col-4 mb-3">
        <label for="email" class="form-label">E-mail</label>
        <input type="email" class="form-control" formControlName="email"/>
        <div *ngIf="clientForm.controls['email'].invalid && submitted" class="error">
          *Formato de e-mail inválido
        </div>
      </div>
      <div class="col-2 mb-3">
        <label for="phone_number" class="form-label">Telefone</label>
        <p-inputMask mask="(99) 9 9999-9999" formControlName="phone_number"
                     placeholder="(99) 9 9999-9999"></p-inputMask>
        <div *ngIf="clientForm.controls['phone_number'].errors && submitted" class="error">
          *Campo deve ser preenchido
        </div>
      </div>
    </div>

    <div class="row g-3">
      <div class="col-5 mb-3">
        <label for="city" class="form-label">Cidade</label>
        <input type="text" class="form-control" formControlName="city"/>
      </div>
      <div class="col-1 mb-3">
        <label for="state" class="form-label">Estado</label>
        <select class="form-select form-control d-inline w-auto" formControlName="state">
          <option *ngFor="let state of states.states">
            {{state}}
          </option>
        </select>
      </div>
    </div>

    <div class="row g-3">
      <div class="col-4 mb-3">
        <label for="neighborhood" class="form-label">Bairro</label>
        <input type="text" class="form-control" formControlName="neighborhood"/>
      </div>
      <div class="col-1 mb-3">
        <label for="number" class="form-label">Número</label>
        <input type="text" class="form-control" formControlName="number" appNumericOnly/>
      </div>
    </div>

    <div class="col-6 mb-3">
      <label for="street" class="form-label">Rua</label>
      <input type="text" class="form-control" formControlName="street"/>
    </div>

    <button type="submit" class="btn" [class.btn-info]="client.id != 0" [class.btn-primary]="client.id == 0" (click)="onSubmit()">
      <i class="bi" [class.bi-arrow-counterclockwise]="client.id != 0" [class.bi-person-plus]="client.id == 0"></i>
      <span class="m-2">{{ client.id != 0 ? 'Atualizar' : 'Cadastrar' }}</span>
    </button>
    <a class="btn btn-success ms-2" routerLink="/clients">
      <i class="bi bi-arrow-left-circle"></i>
      <span class="m-2">Voltar</span>
    </a>
  </form>
</div>
